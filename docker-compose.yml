version: "3.9"

services:
  speedtest:
    container_name: speedtest-service
    build:
      context: .
      dockerfile: Dockerfile
    environment:
      SLEEP_SECONDS: 30
      SPEEDTEST_LOCATION_UUID: "unknown-location"
    volumes:
      - ./speedtest:/app/speedtest
      - ./results:/app/results
      - ./logs:/app/logs
      - ./uploads:/app/uploads
    command:
      - uv
      - run
      - python
      - -m
      - speedtest.handlers.loop
